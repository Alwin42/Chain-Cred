{% extends 'base.html' %}
{% block title %}Dashboard â€” Chain-Cred{% endblock %}

{% block content %}
<section class="py-10">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-12 gap-6">

      <!-- Sidebar -->
      <aside class="col-span-12 md:col-span-3 lg:col-span-2 space-y-2">
        <div class="bg-white/5 border border-white/10 rounded-xl p-4">
          <div class="text-xs uppercase tracking-wider text-slate-400 mb-2">Navigation</div>
          <nav class="flex md:block gap-2 md:gap-0">
            <a href="#" class="nav-item active">Overview</a>
            <a href="#" class="nav-item">My Gigs</a>
            <a href="#" class="nav-item">Earnings</a>
            <a href="#" class="nav-item">Settings</a>
          </nav>
        </div>
      </aside>

      <!-- Main -->
      <div class="col-span-12 md:col-span-9 lg:col-span-10 space-y-6">
        <!-- Profile & Credibility -->
        <div class="bg-white/5 border border-white/10 rounded-xl p-6">
          <div class="flex items-start md:items-center gap-4 md:gap-6 flex-col md:flex-row">
            <div class="h-16 w-16 rounded-full bg-ccTeal/20 border border-ccTeal/40"></div>
            <div class="flex-1">
              <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2">
                <div>
                  <h2 class="text-xl font-bold">{{ user.name }}</h2>
                  <p class="text-slate-400">{{ user.bio }}</p>
                </div>
                <div class="flex items-center gap-3">
                  <div class="text-right">
                    <div class="text-xs text-slate-400">Credibility Score</div>
                    <div class="text-2xl font-extrabold text-ccGold">{{ user.credibility_score }}</div>
                  </div>
                </div>
              </div>

              <!-- Skills -->
              <div class="mt-4 flex flex-wrap gap-2">
                {% for s in user.skills %}
                <span class="px-2.5 py-1 rounded-md text-xs bg-white/5 border border-white/10">{{ s }}</span>
                {% endfor %}
              </div>

              <!-- Wallet -->
              <div class="mt-4 text-sm text-slate-400">
                Connected wallet:
                <span class="font-medium text-ccGold" data-wallet-display id="walletAddress">Not connected</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Stats -->
        <div class="grid md:grid-cols-3 gap-4">
          <div class="stat-card">
            <div class="stat-title">Active Gigs</div>
            <div class="stat-value">3</div>
            <div class="stat-sub">2 in escrow</div>
          </div>
          <div class="stat-card">
            <div class="stat-title">Earnings (30d)</div>
            <div class="stat-value">$3,420</div>
            <div class="stat-sub">+12% vs last month</div>
          </div>
          <div class="stat-card">
            <div class="stat-title">Completion Rate</div>
            <div class="stat-value">98%</div>
            <div class="stat-sub">Top 5%</div>
          </div>
        </div>

        <!-- Active Gigs -->
        <div class="bg-white/5 border border-white/10 rounded-xl p-6">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold">Active Gigs</h3>
            <a href="#" class="text-ccTeal text-sm hover:underline">View all</a>
          </div>
          <div class="mt-4 space-y-3">
            <div class="gig-row">
              <div>
                <div class="font-medium">Audit ERC-20 Smart Contract</div>
                <div class="text-xs text-slate-400">Milestone 1: Initial Review</div>
              </div>
              <div class="text-right">
                <span class="badge badge-green">In Escrow</span>
                <div class="text-xs text-slate-400 mt-1">$1,200</div>
              </div>
            </div>
            <div class="gig-row">
              <div>
                <div class="font-medium">Build NFT Minting dApp</div>
                <div class="text-xs text-slate-400">Milestone 2: UI/UX</div>
              </div>
              <div class="text-right">
                <span class="badge badge-yellow">In Progress</span>
                <div class="text-xs text-slate-400 mt-1">$2,000</div>
              </div>
            </div>
            <div class="gig-row">
              <div>
                <div class="font-medium">DeFi Yield Aggregator Strategy</div>
                <div class="text-xs text-slate-400">Milestone 3: Optimization</div>
              </div>
              <div class="text-right">
                <span class="badge badge-blue">Pending Review</span>
                <div class="text-xs text-slate-400 mt-1">$1,800</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Earnings Overview -->
        <div class="bg-white/5 border border-white/10 rounded-xl p-6">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold">Earnings Overview</h3>
            <div class="text-xs text-slate-400">Last 6 months</div>
          </div>
          <!-- Placeholder bar chart made with simple divs -->
          <div class="mt-6 grid grid-cols-6 gap-3 items-end h-36">
            <div class="bg-ccTeal/60 rounded" style="height: 60%"></div>
            <div class="bg-ccTeal/60 rounded" style="height: 70%"></div>
            <div class="bg-ccTeal/60 rounded" style="height: 45%"></div>
            <div class="bg-ccTeal/60 rounded" style="height: 90%"></div>
            <div class="bg-ccTeal/60 rounded" style="height: 55%"></div>
            <div class="bg-ccTeal/60 rounded" style="height: 80%"></div>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>
{% endblock %}